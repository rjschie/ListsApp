/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);


var listsAppControllers = angular.module('listsAppControllers', []);

listsAppControllers.controller('ListCtrl', ['$scope', function($scope) {
	var sortableEle;

	$scope.items = [
		{text:"Item One", done: false, pos: 1 },
		{text:"Item Two", done: false, pos: 2 },
		{text:"Item Three", done: false, pos: 3 }
	];

	$scope.addItem = function() {
		$scope.items.push({text:$scope.itemText, done: false});
		$scope.itemText = '';
		sortableEle.refresh();
	};

	$scope.checkDone = function(item) {
		item.done = !item.done;
	};

	$scope.removeItem = function(item) {
		if(item.confirm)
			$scope.items.splice($scope.items.indexOf(item), 1);
		else
			item.confirm = true;
	};

	$scope.dragStart = function(e, ui) {
		ui.item.data('start', ui.item.index());
	};

	$scope.dragEnd = function(e, ui) {
		var start = ui.item.data('start'),
			end = ui.item.index();

		$scope.items.splice(end, 0, $scope.items.splice(start, 1)[0]);

		$scope.$apply();
	};

	sortableEle = $('.list').sortable({
		start: $scope.dragStart,
		update: $scope.dragEnd
	});

}]);

'use strict';

var listsApp = angular.module('listsApp', [
	'listsAppControllers'
	]);


/**
 * Header Shrink on Scroll
 * @type {*|jQuery|HTMLElement}
 */
var header = $('.header'),
	headerHeight = header.height();

$(window).on('scroll', $.debounce(100, false, function() {
	var distanceY = $(window).scrollTop();

	if(distanceY > (headerHeight/3)) {
		header.addClass('small');
	} else {
		header.removeClass('small');
	}
}));

